<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Confirmation</title>
</head>

<body>
    <section class="confirmation">
        <h1>Booking and Payment Confirmation</h1>
        <table id="dataTable">
            <thead>
                <tr>
                    <th>Full Name</th>
                    <th>Phone Number</th>
                    <th>Email</th>
                    <th>Location</th>
                    <th>Quest Count</th>
                    <th>Card Payment Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <button class="btn" id="cancelBtn">Cancel</button>
    </section>

    <script>

        window.onload = function () {
            const bookingData = JSON.parse(localStorage.getItem('bookingData'));
            const paymentData = JSON.parse(localStorage.getItem('paymentData'));

            if (bookingData && paymentData) {
                const tableBody = document.querySelector("#dataTable tbody");

                const row = document.createElement("tr");

                row.innerHTML = `
            <td>${bookingData.name}</td>
            <td>${bookingData.phone}</td>
            <td>${bookingData.email}</td>
            <td>${bookingData.location}</td>
            <td>${bookingData.quest}</td>
            <td>Paid</td>
            <td><button class="btn" id="cancelBtn">Cancel</button></td>
        `;

                tableBody.appendChild(row);
            }

            document.getElementById("cancelBtn").addEventListener("click", function () {
                localStorage.removeItem('bookingData');
                localStorage.removeItem('paymentData');
                alert("Booking canceled!");
                window.location.href = "index.html"; // Redirect to booking page
            });
        };

    </script>



</body>

</html>